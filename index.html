<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OC èƒŒæ™¯ & æ€§æ ¼ç”Ÿæˆå™¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; background: #0f172a; color: #f1f5f9; }
        .glass { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); }
        .output-box { min-height: 120px; transition: all 0.3s ease; }
    </style>
</head>
<body class="min-h-screen py-10 px-4 flex flex-col items-center">

    <div class="max-w-2xl w-full">
        <header class="text-center mb-8">
            <h1 class="text-4xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500 mb-2">
                OC è¨­å®šç”Ÿæˆå™¨
            </h1>
            <p class="text-slate-400">å‰µé€ ç¨ä¸€ç„¡äºŒçš„äººç‰©éˆé­‚</p>
        </header>

        <div class="space-y-4">
            <div class="glass rounded-2xl p-6 shadow-xl">
                <h3 class="text-blue-400 text-sm font-bold mb-2 flex items-center">
                    <span class="mr-2">ğŸ“–</span> èƒŒæ™¯æ•…äº‹
                </h3>
                <div id="story-output" class="output-box flex items-center text-lg leading-relaxed italic text-slate-200">
                    ç­‰å¾…å¬å–šèƒŒæ™¯...
                </div>
            </div>

            <div class="glass rounded-2xl p-6 shadow-xl">
                <h3 class="text-purple-400 text-sm font-bold mb-2 flex items-center">
                    <span class="mr-2">ğŸ­</span> æ€§æ ¼ç‰¹è³ª
                </h3>
                <div id="trait-output" class="output-box flex items-center text-lg leading-relaxed font-medium text-slate-200">
                    ç­‰å¾…è§£ææ€§æ ¼...
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mt-8">
            <button onclick="generateStory()" class="bg-blue-600 hover:bg-blue-500 py-4 rounded-xl font-bold shadow-lg shadow-blue-900/30 transition-all active:scale-95">
                âœ¨ ç”ŸæˆèƒŒæ™¯
            </button>
            <button onclick="generateTrait()" class="bg-purple-600 hover:bg-purple-500 py-4 rounded-xl font-bold shadow-lg shadow-purple-900/30 transition-all active:scale-95">
                ğŸ’ ç”Ÿæˆæ€§æ ¼
            </button>
        </div>

        <div class="mt-10 text-center text-xs text-slate-500 space-y-1">
            <p>å·²ç”Ÿæˆçµ„åˆï¼š<span id="history-count" class="text-slate-300">0</span></p>
            <p>â€» ç³»çµ±æœƒè‡ªå‹•éæ¿¾é‡è¤‡å…§å®¹ï¼Œç¢ºä¿éˆæ„Ÿä¸æ¯ç«­</p>
        </div>
    </div>

    <script>
        const data = {
            // èƒŒæ™¯é›¶ä»¶
            identity: ["ä¸€åè»é†«", "ä¸€ä½å»¢åœŸæ‹¾è’è€…", "é€€å½¹çš„è–é¨å£«", "çš‡å®¤çš„ç§ç”Ÿå­", "å›é€ƒçš„AIåŸå‹", "è¡—é ­çš„ç¥ç¥•å åœå¸«", "è¢«æ”¾é€çš„é¾æ—è¡€è„ˆ"],
            location: ["åœ¨æµ®ç©ºç›£ç„è£¡", "åœ¨å¤è€çš„æ©Ÿæ¢°è¿·å®®ä¸­", "åœ¨æ°¸æ†çš„é»‘å¤œæ£®æ—", "åœ¨æ²‰æ²’çš„å¤åŸéºå€", "åœ¨ç¹è¯å»è…æ•—çš„é¦–éƒ½", "åœ¨é‚Šå¢ƒçš„ç„¡äººå€"],
            event: ["ç›®ç¹äº†ç¦å¿Œçš„ç¦å’’é‹ä½œ", "æ„å¤–ç²å¾—äº†æ“æ§æ™‚é–“çš„èƒ½åŠ›", "ç™¼ç¾äº†è‡ªå·±å…¶å¯¦æ˜¯å€‹è¤‡è£½å“", "è¢«å®¶æ—ä½œç‚ºæ”¿æ²»äº¤æ˜“çŠ§ç‰²", "åœ¨çµ•å¢ƒä¸­è½è¦‹äº†å¤ç¥çš„ä½èª"],
            result: ["å¾æ­¤ä¸å†ä¿¡ä»»ä»»ä½•äººã€‚", "æ­£ç§˜å¯†çµ„ç¹”è‘—åæŠ—åŠ›é‡ã€‚", "æ±ºå®šè¸ä¸Šè´–ç½ªçš„æ¼«é•·æ—…ç¨‹ã€‚", "ç™¼èª“è¦å¥ªå›å¤±å»çš„ç‹ä½ã€‚", "ç›®å‰ä»¥æ­¤ä½œç‚ºåŠ›é‡çš„æºæ³‰ã€‚"],
            
            // æ€§æ ¼é›¶ä»¶
            traits: [
                "è¡¨é¢å†·é…·ç„¡æƒ…ï¼Œå…¶å¯¦å°å°å‹•ç‰©æ¯«ç„¡æŠµæŠ—åŠ›ã€‚",
                "æ¥µåº¦ç†æ€§ï¼Œèªç‚ºæƒ…æ„Ÿæ˜¯å¹²æ“¾åˆ¤æ–·çš„é›œè¨Šã€‚",
                "ç¸½æ˜¯å¸¶è‘—æº«æŸ”çš„å¾®ç¬‘ï¼Œçœ¼ç¥å»æ²’æœ‰çµ²æ¯«æº«åº¦ã€‚",
                "é‡åº¦å¼·è¿«ç—‡ï¼Œå¿…é ˆç¢ºä¿è¨ˆç•«å®Œç¾ç„¡ç¼ºæ‰è¡Œå‹•ã€‚",
                "èªªè©±å……æ»¿è«·åˆºï¼Œä½†æœƒåœ¨é—œéµæ™‚åˆ»æ¨èº«æ•‘äººã€‚",
                "å……æ»¿å¥½å¥‡å¿ƒï¼Œå³ä½¿é¢å°å±éšªä¹Ÿæƒ³æ¢ç©¶çœŸç›¸ã€‚",
                "æ¥µå…¶è‡ªå‘ï¼Œå› æ­¤ç¸½æ˜¯è¡¨ç¾å¾—éåº¦ç‹‚å¦„è‡ªå¤§ã€‚",
                "é›–ç„¶å¥å¿˜ï¼Œä½†å°æ–¼æ‰¿è«¾éçš„äº‹çµ•å°æœƒå®Œæˆã€‚"
            ]
        };

        const storyHistory = new Set();
        const traitHistory = new Set();

        function generateStory() {
            let story;
            let attempts = 0;
            const target = document.getElementById('story-output');

            do {
                const i = data.identity[Math.floor(Math.random() * data.identity.length)];
                const l = data.location[Math.floor(Math.random() * data.location.length)];
                const e = data.event[Math.floor(Math.random() * data.event.length)];
                const r = data.result[Math.floor(Math.random() * data.result.length)];
                story = `${i}${l}${e}ï¼Œ${r}`;
                attempts++;
            } while (storyHistory.has(story) && attempts < 100);

            storyHistory.add(story);
            target.style.opacity = 0;
            setTimeout(() => {
                target.innerText = story;
                target.style.opacity = 1;
                updateCount();
            }, 150);
        }

        function generateTrait() {
            let trait;
            let attempts = 0;
            const target = document.getElementById('trait-output');

            do {
                trait = data.traits[Math.floor(Math.random() * data.traits.length)];
                attempts++;
            } while (traitHistory.has(trait) && attempts < 50);

            // å¦‚æœè©²é¡åˆ¥çœŸçš„æŠ½å®Œäº†ï¼Œæ¸…ç©ºè©²é¡åˆ¥çš„æ­·å²
            if (traitHistory.size >= data.traits.length) traitHistory.clear();

            traitHistory.add(trait);
            target.style.opacity = 0;
            setTimeout(() => {
                target.innerText = trait;
                target.style.opacity = 1;
            }, 150);
        }

        function updateCount() {
            document.getElementById('history-count').innerText = storyHistory.size;
        }
    </script>
</body>
</html>